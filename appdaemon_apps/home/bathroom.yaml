# turn_on_bathroom_fan_when_humidity_is_over_threshold:
#   module: threshold_based_toggle_automation
#   class: ThresholdBasedToggleAutomationWithDelay
#   observed_sensor: sensor.bathroom_sensor_actor_humidity
#   switch: light.bathroom_fan_switch
#   threshold_input_number: input_number.bathroom_turn_on_fan_humidity_threshold
#   act_on_over_threshold: true
#   toggle_to_on: true
#   state_change_delay: input_number.bathroom_fan_turn_off_turn_on_delay

turn_on_lights_when_there_is_activity_in_the_bathroom:
  module: activity_based_light_control_automations
  class: TurnOnAutomation
  observed_activity_sensor: binary_sensor.bathroom_motion_detector
  light_group: light.bathroom_lights
  light_sensor: sensor.bathroom_light_intensity_percent
  scene_input_select: input_select.bathroom_automatic_light_scene_generated
  scene_group_prefix: bathroom
  light_intensity_toggle_threshold: input_number.bathroom_light_toogle_intensity_threshold
  light_automation_start_time: input_datetime.bathroom_light_automation_start_time
  light_automation_end_time: input_datetime.bathroom_light_automation_end_time
  enable_time_depended_automation_input: input_boolean.bathroom_time_depended_light_automation_is_enabled
  enable_automatic_scene_mode: input_boolean.bathroom_automatic_scene_mode_enabled
  constrain_input_boolean: input_boolean.bathroom_light_automation_is_enabled

set_bathroom_timebased_light_scene:
  module: time_based_scene_switch
  class: TimeBasedSceneSwitch
  scene_switch_input_select: input_select.bathroom_time_based_scenes
  toggled_scene_input_select: input_select.bathroom_automatic_light_scene_generated
  light_automatic_enabled: input_boolean.bathroom_light_automation_is_enabled

turn_off_lights_when_there_is_no_activity_in_the_bathroom:
  module: activity_based_light_control_automations
  class: TurnOffAutomation
  light_group: light.bathroom_lights
  turn_off_timeout: input_number.bathroom_light_turn_off_timeout
  observed_activity_sensor: binary_sensor.bathroom_motion_detector
  constrain_input_boolean: input_boolean.bathroom_light_automation_is_enabled

reactivate_bathroom_light_automa2tion_after_given_timeout:
  module: input_boolean
  class: ReactivationTimer
  observed_input_boolean: input_boolean.bathroom_light_automation_is_enabled
  reactivation_timeout: input_datetime.bathroom_light_automation_reactivation_timeout