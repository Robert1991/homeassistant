decluttering_templates:
  plant_overview:
    variables:
      - plant_place: Left
      - plant_place_lower: left
      - moisture_sensor_number: 3
      - pump_number: 3
    card:
      type: "custom:vertical-stack-in-card"
      title: "[[plant_place]] Plant"
      cards:
        - type: glance
          entities:
            - entity: "sensor.kitchen_[[plant_place_lower]]_plant_age_in_days"
              name: Age In Days
            - entity: "input_number.[[plant_place_lower]]_plant_harvest_age"
              icon: mdi:calendar-check
              name: Harvest
            - entity: "input_datetime.[[plant_place_lower]]_plant_planting_date"
              name: Planting Date
        - type: glance
          entities:
            - entity: "input_text.[[plant_place_lower]]_plant_name"
              icon: mdi:flower
              name: Type
            - entity: "sensor.kitchen_plant_controller_moisture_sensor_[[moisture_sensor_number]]"
              name: Moisture
            - entity: "input_text.[[plant_place_lower]]_plant_name"
              icon: mdi:flower
              name: null
            - type: button
              entity: "switch.kitchen_plant_controller_pump_relay_[[pump_number]]"
              name: Pump
              icon_height: 40px
title: Plants
views:
  - title: Overview
    path: overview
    cards:
      - type: "custom:vertical-stack-in-card"
        title: General
        cards:
          - type: glance
            entities:
              - entity: sensor.kitchen_plant_controller_humidity
                name: Humidity
              - entity: sensor.kitchen_plant_controller_temperature
                name: Temperature
                show_name: true
          - type: glance
            entities:
              - entity: sensor.plant_closet_master_switch_power_in_watt
                name: Energy Consumption
              - entity: binary_sensor.kitchen_plant_controller_swimmer_sensor
                name: Water available
          - type: "custom:stack-in-card"
            mode: horizontal
            title: Switches
            cards:
              - type: button
                entity: switch.hue_smart_plug_1
                icon_height: 40px
                name: Light
                style: |
                  ha-card {
                  margin-top: -10px;
                  margin-bottom: 0px;
                  }
              - type: button
                icon_height: 40px
                entity: switch.hue_smart_plug_2
                name: Ventilation
                style: |
                  ha-card {
                  margin-top: -10px;
                  margin-bottom: 0px;
                  }
          - type: custom:fold-entity-row
            head:
              type: section
              label: Automations
            open: false
            entities:
              - type: "custom:fold-entity-row"
                head:
                  entity: input_boolean.kitchen_plant_light_automation_enabled
                  name: Plant Light Automation
                entities:
                  - name: Turn On Time
                    entity: input_datetime.kitchen_plant_light_turn_on_time
                  - name: Turn Off Time
                    entity: input_datetime.kitchen_plant_light_turn_off_time
              - type: "custom:fold-entity-row"
                head:
                  entity: input_boolean.kitchen_lcd_display_rotation_enabled
                  name: Plant Status Display Rotation
                entities:
                  - name: Rotation Timeout
                    entity: input_number.lcd_display_rotation_timeout
              - type: "custom:fold-entity-row"
                head:
                  entity: input_boolean.kitchen_plant_ventilation_automation_enabled
                  name: Night Time Plant Ventilation
                entities:
                  - name: On Interval
                    entity: input_number.kitchen_plant_night_ventilation_on_interval
                    type: custom:slider-entity-row
                  - name: Off Interval
                    entity: input_number.kitchen_plant_night_ventilation_off_interval
                    type: custom:slider-entity-row
                  - name: Start Time
                    entity: input_datetime.kitchen_plant_night_ventilation_turn_on_time
              - type: divider
              - entity: alert.plants_need_water_refill
                name: Plantwater Refill Alert
              - type: "custom:fold-entity-row"
                head:
                  entity: binary_sensor.temperature_too_hot_in_plant_closet
                  name: Temperature over alarm threshold
                entities:
                  - entity: input_number.kitchen_plant_closet_maximum_temperature
                    name: Warning Temperature
                  - entity: input_number.kitchen_plant_closet_maximum_temperature_notification_timeout
                    name: Notification Timeout
                  - entity: input_number.kitchen_plant_closet_release_temp_alarm_timeout
                    name: Release Alarm Timeout

              - type: "custom:fold-entity-row"
                head:
                  entity: input_boolean.kitchen_left_plant_watering_automation_enabled
                  name: Left Plant Watering
                entities:
                  - name: Interval in h
                    entity: input_number.kitchen_left_plant_watering_interval
                    type: custom:slider-entity-row
                  - name: Pump Duration
                    entity: input_number.kitchen_left_plant_watering_duration
                    type: custom:slider-entity-row
              - type: "custom:fold-entity-row"
                head:
                  entity: input_boolean.kitchen_right_plant_watering_automation_enabled
                  name: Right Plant Watering
                entities:
                  - name: Interval in h
                    entity: input_number.kitchen_right_plant_watering_interval
                    type: custom:slider-entity-row
                  - name: Pump Duration
                    entity: input_number.kitchen_right_plant_watering_duration
                    type: custom:slider-entity-row
      - type: custom:decluttering-card
        template: plant_overview
        variables:
          - plant_place: Left
          - plant_place_lower: left
          - moisture_sensor_number: 3
          - pump_number: 3
      - type: custom:decluttering-card
        template: plant_overview
        variables:
          - plant_place: Middle
          - plant_place_lower: middle
          - moisture_sensor_number: 1
          - pump_number: 1
      - type: custom:decluttering-card
        template: plant_overview
        variables:
          - plant_place: Right
          - plant_place_lower: right
          - moisture_sensor_number: 2
          - pump_number: 2
  - title: Graphs
    path: graphs
    panel: false
    cards:
      - type: custom:layout-card
        layout:
          grid-template-columns: 600px
          grid-template-rows: auto
          grid-template-areas: |
            "header"
            "main"
            "footer"
          mediaquery:
            "(max-width: 600px)":
              grid-template-columns: 100%
              grid-template-areas: |
                "header"
                "main"
                "footer"
        cards:
        - type: "custom:stack-in-card"
          mode: vertical
          title: Graphs
          cards:
            - type: custom:apexcharts-card
              graph_span: 2d
              header:
                show: true
                title: Plant Closet Temperature
                show_states: true
                colorize_states: true
              series:
                - entity: sensor.kitchen_plant_controller_temperature
                  name: Temperature in Â°C
                  color: blue
              view_layout:
                grid-area: header
            - type: custom:apexcharts-card
              graph_span: 2d
              header:
                show: true
                title: Plant Closet Humidity
                show_states: true
                colorize_states: true
              series:
                - entity: sensor.kitchen_plant_controller_humidity
                  name: Humidity in %
                  color: blue
              view_layout:
                grid-area: main
            - type: custom:apexcharts-card
                graph_span: 2d
              header:
                show: true
                  title: Plant Soil Humidity 1
                  show_states: true
                  colorize_states: true
                series:
                  - entity: sensor.kitchen_plant_controller_moisture_sensor_1
                    name: Soil Humidity in %
                    color: blue
                view_layout:
                  grid-area: footer
              - type: custom:apexcharts-card
                graph_span: 2d
                header:
                  show: true
                  title: Plant Soil Humidity 2
                show_states: true
                colorize_states: true
              series:
                - entity: sensor.kitchen_plant_controller_moisture_sensor_2
                  name: Soil Humidity in %
                  color: blue
              view_layout:
                grid-area: footer
